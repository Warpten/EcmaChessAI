<!DOCTYPE html>
<html>
<head>
    <title>EcmaChess v1.0</title>
    
    <style type="text/css">
        input[type="button"] {
            border: 1px solid black;
            padding: 3px;
            padding-left: 7px;
            padding-right: 7px;
            border-radius: 4px;
            font-family: Verdana;
            background-color: rgba(29, 29, 29, 0.2);
        }
        
        p#youreplaying span { font-weight: bold; }
        
        canvas {
            border-radius: 3px;
            margin-left: auto;
            margin-right: auto;
            box-shadow: -1px -1px 2px rgba(9, 9, 9, 0.2), 1px -1px 2px rgba(9, 9, 9, 0.2), 1px 1px 2px rgba(9, 9, 9, 0.2), -1px 1px 2px rgba(9, 9, 9, 0.2);
        }
        
        body {
            width: 500px;
            height: auto;
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>

<body>
    <canvas id="drawPlace">Your browser needs to handle canvas for this demo to work.</canvas>

    <p id="youreplaying">You are playing as <span>white</span></p>
    <input type="button" value="Switch sides" id="sideSwitcher" />
    <input type="button" value="Reset the game" id="resetBoard" />
    <input type="checkbox" id="toggleDebug" /> Debug mode
    <!-- Using non-minimized version for development -->
    <script src="./js/libs/jquery-1.6.2.js"></script>

    <script src="./js/enums.js"></script>
    <script src="./js/board.js"></script>
    <script src="./js/renderer.js"></script>
    <script src="./js/piece.js"></script>

    <script type="text/javascript">
    // Javascript's object-oriented programming is a pure piece of shit.
    // Properties defined globally are shared and modified GLOBALLY.
    $(function() {
        board = ChessBoard(document.getElementById('drawPlace'));

        $('#sideSwitcher').click(function() {
           board.switchSide();
           $('#youreplaying span').html((board.getPlayerSide() == ChessEnums.Piece.BLACK ? 'black' : 'white') + '.');
        });

        $('#resetBoard').click(function() {
            board.initBoard();
        });
        
        $('#toggleDebug').click(function() {
            ChessEnums.State.STATE_TESTING = !ChessEnums.State.STATE_TESTING;
            board.initBoard();
        });
    });
    </script>
</body>